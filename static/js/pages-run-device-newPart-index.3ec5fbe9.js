(self["webpackChunkhydro_flex_control"]=self["webpackChunkhydro_flex_control"]||[]).push([[2185],{77248:function(t,e,a){var n=a(52636);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var r=a(69333).A;r("6362383a",n,!0,{sourceMap:!1,shadowMode:!1})},32571:function(t,e,a){var n=a(8503);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var r=a(69333).A;r("c959d94e",n,!0,{sourceMap:!1,shadowMode:!1})},44756:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var n,r={uniForms:a(70491).A,uniFormsItem:a(74392).A,uniEasyinput:a(11172).A,uniDataSelect:a(4689).A,uniDatetimePicker:a(53390).A},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"newPart"},[a("ListViewFixed",{ref:"mescrollItem",attrs:{contentType:"others"},on:{handlerUp:function(e){arguments[0]=e=t.$handleEvent(e),t.handlerUp.apply(void 0,arguments)}},scopedSlots:t._u([{key:"content",fn:function(){return[a("uni-forms",{ref:"customForm",staticClass:"outputForm",attrs:{border:!0,rules:t.customRules,modelValue:t.customFormData,"label-width":"30%"}},[a("uni-forms-item",{attrs:{label:"设备名称",required:!0,name:"monitorName"}},[a("uni-easyinput",{staticClass:"formInput",attrs:{inputBorder:!1,placeholder:"请输入设备名称"},model:{value:t.customFormData.monitorName,callback:function(e){t.$set(t.customFormData,"monitorName",e)},expression:"customFormData.monitorName"}})],1),a("uni-forms-item",{attrs:{label:"设备ID",required:!0,name:"monitorId"}},[a("uni-easyinput",{staticClass:"formInput",attrs:{inputBorder:!1,placeholder:"请输入设备ID"},model:{value:t.customFormData.monitorId,callback:function(e){t.$set(t.customFormData,"monitorId",e)},expression:"customFormData.monitorId"}})],1),a("uni-forms-item",{attrs:{label:"调度机构",required:!0,name:"dispatchOrganization"}},[a("uni-data-select",{staticClass:"formInput",attrs:{localdata:t.range1,placeholder:"请选择调度机构"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.adjustingChange1.apply(void 0,arguments)}},model:{value:t.customFormData.dispatchOrganization,callback:function(e){t.$set(t.customFormData,"dispatchOrganization",e)},expression:"customFormData.dispatchOrganization"}})],1),a("uni-forms-item",{attrs:{label:"所属电厂",required:!0,name:"plantName"}},[a("uni-data-select",{staticClass:"formInput",attrs:{localdata:t.range2,placeholder:"请选择所属电厂"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.adjustingChange2.apply(void 0,arguments)}},model:{value:t.customFormData.plantName,callback:function(e){t.$set(t.customFormData,"plantName",e)},expression:"customFormData.plantName"}})],1),a("uni-forms-item",{attrs:{label:"所属间隔",name:"belongingInterval"}},[a("uni-data-select",{staticClass:"formInput",attrs:{localdata:t.range3,placeholder:"请选择所属间隔"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.adjustingChange3.apply(void 0,arguments)}},model:{value:t.customFormData.belongingInterval,callback:function(e){t.$set(t.customFormData,"belongingInterval",e)},expression:"customFormData.belongingInterval"}})],1),a("uni-forms-item",{attrs:{label:"电压等级",required:!0,name:"voltageLevel"}},[a("uni-data-select",{staticClass:"formInput",attrs:{localdata:t.range4,placeholder:"请选择电压等级"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.adjustingChange4.apply(void 0,arguments)}},model:{value:t.customFormData.voltageLevel,callback:function(e){t.$set(t.customFormData,"voltageLevel",e)},expression:"customFormData.voltageLevel"}})],1),a("uni-forms-item",{attrs:{label:"并入电网电压等级",required:!0,name:"gridLevel"}},[a("uni-data-select",{staticClass:"formInput",attrs:{localdata:t.range5,placeholder:"请选择并入电网电压等级"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.adjustingChange5.apply(void 0,arguments)}},model:{value:t.customFormData.gridLevel,callback:function(e){t.$set(t.customFormData,"gridLevel",e)},expression:"customFormData.gridLevel"}})],1),a("uni-forms-item",{attrs:{label:"机端额定电压",required:!0,name:"ratedVoltage"}},[a("uni-easyinput",{staticClass:"formInput",attrs:{type:"number",inputBorder:!1,placeholder:"请输入机端额定电压"},model:{value:t.customFormData.ratedVoltage,callback:function(e){t.$set(t.customFormData,"ratedVoltage",e)},expression:"customFormData.ratedVoltage"}})],1),a("uni-forms-item",{attrs:{label:"额定容量",required:!0,name:"ratedCapacity"}},[a("uni-easyinput",{staticClass:"formInput",attrs:{type:"number",inputBorder:!1,placeholder:"请输入额定容量"},model:{value:t.customFormData.ratedCapacity,callback:function(e){t.$set(t.customFormData,"ratedCapacity",e)},expression:"customFormData.ratedCapacity"}})],1),a("uni-forms-item",{attrs:{label:"最大出力",required:!0,name:"maximumOutput"}},[a("uni-easyinput",{staticClass:"formInput",attrs:{type:"number",inputBorder:!1,placeholder:"请输入最大出力"},model:{value:t.customFormData.maximumOutput,callback:function(e){t.$set(t.customFormData,"maximumOutput",e)},expression:"customFormData.maximumOutput"}})],1),a("uni-forms-item",{attrs:{label:"是否增容",required:!0,name:"capacity"}},[a("uni-data-select",{staticClass:"formInput",attrs:{localdata:t.range7,placeholder:"请选择是否增容"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.adjustingChange7.apply(void 0,arguments)}},model:{value:t.customFormData.capacity,callback:function(e){t.$set(t.customFormData,"capacity",e)},expression:"customFormData.capacity"}})],1),a("uni-forms-item",{attrs:{label:"系统属性",required:!0,name:"systemProperties"}},[a("uni-easyinput",{staticClass:"formInput",attrs:{inputBorder:!1,placeholder:"请输入系统属性"},model:{value:t.customFormData.systemProperties,callback:function(e){t.$set(t.customFormData,"systemProperties",e)},expression:"customFormData.systemProperties"}})],1),a("uni-forms-item",{attrs:{label:"燃料类型",required:!0,name:"fuelType"}},[a("uni-easyinput",{staticClass:"formInput",attrs:{inputBorder:!1,placeholder:"请输入燃料类型"},model:{value:t.customFormData.fuelType,callback:function(e){t.$set(t.customFormData,"fuelType",e)},expression:"customFormData.fuelType"}})],1),a("uni-forms-item",{attrs:{label:"电源类型",required:!0,name:"powerSource"}},[a("uni-easyinput",{staticClass:"formInput",attrs:{inputBorder:!1,placeholder:"请输入电源类型"},model:{value:t.customFormData.powerSource,callback:function(e){t.$set(t.customFormData,"powerSource",e)},expression:"customFormData.powerSource"}})],1),a("uni-forms-item",{attrs:{label:"生产厂家",required:!0,name:"manufacturer"}},[a("uni-easyinput",{staticClass:"formInput",attrs:{inputBorder:!1,placeholder:"请输入生产厂家"},model:{value:t.customFormData.manufacturer,callback:function(e){t.$set(t.customFormData,"manufacturer",e)},expression:"customFormData.manufacturer"}})],1),a("uni-forms-item",{attrs:{label:"许可机构",required:!0,name:"licensingAgency"}},[a("uni-easyinput",{staticClass:"formInput",attrs:{inputBorder:!1,placeholder:"请输入许可机构"},model:{value:t.customFormData.licensingAgency,callback:function(e){t.$set(t.customFormData,"licensingAgency",e)},expression:"customFormData.licensingAgency"}})],1),a("uni-forms-item",{attrs:{label:"正式商运发电时间",required:!0,name:"powerTime"}},[a("uni-datetime-picker",{staticClass:"formInput",attrs:{border:!1,type:"date","clear-icon":!1},on:{maskClick:function(e){arguments[0]=e=t.$handleEvent(e),t.adjustingChange8.apply(void 0,arguments)}},model:{value:t.customFormData.powerTime,callback:function(e){t.$set(t.customFormData,"powerTime",e)},expression:"customFormData.powerTime"}})],1),a("uni-forms-item",{attrs:{label:"资产单位",required:!0,name:"assetUnit"}},[a("uni-easyinput",{staticClass:"formInput",attrs:{inputBorder:!1,placeholder:"请输入资产单位"},model:{value:t.customFormData.assetUnit,callback:function(e){t.$set(t.customFormData,"assetUnit",e)},expression:"customFormData.assetUnit"}})],1),a("uni-forms-item",{attrs:{label:"退役日期",required:!0,name:"retirementDate"}},[a("uni-datetime-picker",{staticClass:"formInput",attrs:{border:!1,type:"date","clear-icon":!1},on:{maskClick:function(e){arguments[0]=e=t.$handleEvent(e),t.adjustingChange9.apply(void 0,arguments)}},model:{value:t.customFormData.retirementDate,callback:function(e){t.$set(t.customFormData,"retirementDate",e)},expression:"customFormData.retirementDate"}})],1),a("uni-forms-item",{attrs:{label:"运行状态",required:!0,name:"runningState"}},[a("uni-data-select",{staticClass:"formInput",attrs:{localdata:t.range10,placeholder:"请选择运行状态"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.adjustingChange10.apply(void 0,arguments)}},model:{value:t.customFormData.runningState,callback:function(e){t.$set(t.customFormData,"runningState",e)},expression:"customFormData.runningState"}})],1),a("uni-forms-item",{attrs:{label:"冷却类型",required:!0,name:"coolingType"}},[a("uni-easyinput",{staticClass:"formInput",attrs:{inputBorder:!1,placeholder:"请输入冷却类型"},model:{value:t.customFormData.coolingType,callback:function(e){t.$set(t.customFormData,"coolingType",e)},expression:"customFormData.coolingType"}})],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[a("v-uni-view",{staticClass:"bottom"},[a("Button",{staticClass:"outputBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit("customForm")}}},[t._v("提交")])],1)]},proxy:!0}])})],1)},u=[],i=a(65361),s=(a(16280),a(76918),a(62062),a(26099),a(47764),a(62953),a(27344)),l=a(20782),c=a(34350),m=a(43859)["A"],d={components:{ListViewFixed:s.A},mixins:[l.A],data:function(){return{customFormData:{monitorName:"",monitorId:"",dispatchOrganization:"",plantName:"",belongingInterval:"",voltageLevel:"",gridLevel:"",ratedVoltage:"",ratedCapacity:"",maximumOutput:"",capacity:"",systemProperties:"",fuelType:"",powerSource:"",manufacturer:"",licensingAgency:"",powerTime:"",assetUnit:"",retirementDate:"",runningState:"",coolingType:""},range1:[{value:"1",text:"机构1"},{value:"2",text:"机构2"}],range2:[{value:"1",text:"电厂1"},{value:"2",text:"电厂2"}],range3:[],range4:[{value:"1",text:"电压等级1"},{value:"2",text:"电压等级2"}],range5:[{value:"1",text:"电网电压等级1"},{value:"2",text:"电网电压等级2"}],range6:[{value:"1",text:"机端额定电压1"},{value:"2",text:"机端额定电压2"}],range7:[{value:"1",text:"是"},{value:"2",text:"否"}],range10:[],time:"",outPutTime:"",customRules:{monitorName:{rules:[{required:!0,errorMessage:"设备名称不能为空"}]},monitorId:{rules:[{required:!0,errorMessage:"设备ID不能为空"}]},dispatchOrganization:{rules:[{required:!0,errorMessage:"调度机构不能为空"}]},plantName:{rules:[{required:!0,errorMessage:"所属电厂不能为空"}]},belongingInterval:{rules:[{required:!0,errorMessage:"所属间隔不能为空"}]},voltageLevel:{rules:[{required:!0,errorMessage:"电压等级不能为空"}]},gridLevel:{rules:[{required:!0,errorMessage:"并入电网电压等级不能为空"}]},ratedVoltage:{rules:[{required:!0,errorMessage:"机端额定电压不能为空"}]}}}},computed:{},mounted:function(){var t=this;Promise.all([this.getDicts("sys_plant_all"),this.getDicts("sys_voltage_type"),this.getDicts("device_dispatch_organization"),this.getDicts("device_running_state")]).then((function(e){var a=(0,i.A)(e,4),n=a[0],r=a[1],o=a[2],u=a[3];t.range2=n.data.map((function(t){return{value:t.dictValue,text:t.dictLabel}})),t.range4=r.data.map((function(t){return{value:t.dictValue,text:t.dictLabel}})),t.range5=t.range4,t.range1=o.data.map((function(t){return{value:t.dictValue,text:t.dictLabel}})),t.range10=u.data.map((function(t){return{value:t.dictValue,text:t.dictLabel}}))})).catch((function(t){m.error("获取字典失败:",t)}))},methods:{handlerUp:function(t){t.page,t.that;this.$refs.mescrollItem.mescroll.endByPage(2,2)},adjustingChange1:function(t){},adjustingChange2:function(t){},adjustingChange3:function(t){},adjustingChange4:function(t){},adjustingChange5:function(t){},adjustingChange6:function(t){},adjustingChange7:function(t){},adjustingChange8:function(t){},adjustingChange9:function(t){},adjustingChange10:function(t){},submit:function(t){this.$refs[t].validate().then((function(t){return(0,c.Im)(t)})).then((function(t){if(200!=t.code)throw new Error("设备创建失败");uni.showToast({title:"设备创建成功"})})).catch((function(t){m.log("err",t)}))}},watch:{},onLoad:function(){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){}},p=d,f=(a(77248),a(32571),a(18535)),g=(0,f.A)(p,o,u,!1,null,"c4984368",null,!1,r,n),h=g.exports},52636:function(t,e,a){"use strict";a.r(e);var n=a(45522),r=a.n(n),o=a(67643),u=a.n(o),i=u()(r());i.push([t.id,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-c4984368]{height:auto!important;overflow:auto!important}',""]),e["default"]=i},8503:function(t,e,a){"use strict";a.r(e);var n=a(45522),r=a.n(n),o=a(67643),u=a.n(o),i=u()(r());i.push([t.id,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.newPart .outputForm[data-v-c4984368]  .uni-forms-item__label{color:#03654e;font-weight:700}.newPart .outputForm[data-v-c4984368]  .uni-input-placeholder,\r\n.newPart .outputForm[data-v-c4984368]  .uni-select__input-text,\r\n.newPart .outputForm[data-v-c4984368]  .uni-icons,\r\n.newPart .outputForm[data-v-c4984368]  .uni-date__x-input{color:#b6e8de!important}.newPart .outputForm[data-v-c4984368]{background:#fff;padding:%?20?%}.newPart .outputForm .formInput[data-v-c4984368]{outline:none}.newPart .outputForm[data-v-c4984368]  .uni-select{border:none!important}.newPart .bottom[data-v-c4984368]{padding-top:%?20?%;display:flex;justify-content:center;align-items:center}.newPart .bottom .outputBtn[data-v-c4984368]{width:95%;height:%?80?%;background:#00a096;color:#fff;border:none}.newPart[data-v-c4984368]  .uni-calendar__mask{z-index:10000!important}.newPart[data-v-c4984368]  .uni-calendar__content{z-index:10000!important}',""]),e["default"]=i},34350:function(t,e,a){"use strict";a.d(e,{Im:function(){return r},Uj:function(){return o},VA:function(){return u},n_:function(){return i}});var n=a(41325),r=function(t){return(0,n.A)({url:"/nus/maintenance",method:"post",data:t})},o=function(t){return(0,n.A)({url:"/nus/maintenance/list",params:t})},u=function(t){return(0,n.A)({url:"/nus/maintenance/list",method:"get",params:t})};function i(t){return(0,n.A)({url:"/nus/maintenance",method:"put",data:t})}},20782:function(t,e){"use strict";var a={onPageScroll:function(t){this.handlePageScroll(t)},onReachBottom:function(){this.handleReachBottom()},onPullDownRefresh:function(){this.handlePullDownRefresh()},data:function(){var t=this;return{mescroll:{onPageScroll:function(e){t.handlePageScroll(e)},onReachBottom:function(){t.handleReachBottom()},onPullDownRefresh:function(){t.handlePullDownRefresh()}}}},methods:{handlePageScroll:function(t){var e=this.$refs["mescrollItem"];e&&e.mescroll&&e.mescroll.onPageScroll(t)},handleReachBottom:function(){var t=this.$refs["mescrollItem"];t&&t.mescroll&&t.mescroll.onReachBottom()},handlePullDownRefresh:function(){var t=this.$refs["mescrollItem"];t&&t.mescroll&&t.mescroll.onPullDownRefresh()}}};e.A=a}}]);