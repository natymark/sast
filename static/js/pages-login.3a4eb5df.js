(self["webpackChunkhydro_flex_control"]=self["webpackChunkhydro_flex_control"]||[]).push([[4729],{4025:function(e,t,n){var i=n(98488);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var r=n(69333).A;r("7b31b46a",i,!0,{sourceMap:!1,shadowMode:!1})},14815:function(e,t,n){var i=n(51019);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var r=n(69333).A;r("61125470",i,!0,{sourceMap:!1,shadowMode:!1})},34001:function(e,t,n){"use strict";var i;n.d(t,{A:function(){return I}});var r,a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("v-uni-view",{staticClass:"u-loading",class:"circle"==e.mode?"u-loading-circle":"u-loading-flower",style:[e.cricleStyle]}):e._e()},c=[],o={name:"u-loading",props:{mode:{type:String,default:"circle"},color:{type:String,default:"#c7c7c7"},size:{type:[String,Number],default:"34"},show:{type:Boolean,default:!0}},computed:{cricleStyle(){let e={};return e.width=this.size+"rpx",e.height=this.size+"rpx","circle"==this.mode&&(e.borderColor=`#e4e4e4 #e4e4e4 #e4e4e4 ${this.color?this.color:"#c7c7c7"}`),e}}},s=o,l=(n(14815),n(18535)),d=(0,l.A)(s,a,c,!1,null,"19cf7fca",null,!1,i,r),I=d.exports},50640:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var i,r={uIcon:n(15614).A,uLoading:n(34001).A},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"load",style:{height:"100%",display:"flex"}},[n("v-uni-view",{style:{flex:"1",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"}},[n("v-uni-view",{staticClass:"closeClass",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"close-circle",color:"#009280",size:"48"}})],1),n("v-uni-view",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},[n("v-uni-view",{style:{fontSize:"48rpx",fontWeight:"bold",backgroundImage:"-webkit-linear-gradient(top, #009280, #b8edd9)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}},[e._v("非统调水电厂调度系统")])],1),n("v-uni-view",{staticClass:"content",style:{display:"flex",alignItems:"center",padding:"20%"}},[n("u-loading",{attrs:{color:"#009280",mode:"circle"}}),n("v-uni-view",{style:{marginLeft:"20rpx",color:"#009280"}},[e._v(e._s(e.Tips))])],1)],1)],1)},c=[],o=n(42727),s=n(50575),l=(n(16280),n(76918),n(28706),n(79432),n(84300)),d=n(27015),I=n(1776),u=n(27358),g=n.n(u),f=n(50771),p=n(43859)["A"],h=!1,m={corpid:h?"ww445f8033443a14aa":"ww4d11a39991ebffdc",agentid:h?"1007917":"1001888",IscAppId:h?"4f488f362b3f412480086df7f2a801b4":"2e7773093ffb400aa20093e04abdce14",ISCP_IP:"202.110.130.19",ISCP_PORT:"20083",ISCP_USER:"user",ISCP_APPID:"hubei",XTBG_IP:"172.27.180.70",XTBG_PORT:"18001",timestamp:"1626832073",nonceStr:"AMQGnmTMzhJetshY",signature:"fb9f560a9b4824f7db3525926994010de74ea055",authorizeUrl:h?"https://igw.isgcc.net:18081/connect/oauth2/authorize":"https://igw.sgcc.com.cn/connect/oauth2/authorize",ticketUrl:h?"https://igw.isgcc.net:18443/identity/getAuthTicketByWechatCode":"http://id.sgcc.com.cn:18088/eeee/identity/getAuthTicketByWechatCode",userInfoUrl:h?"https://igw.isgcc.net:18443/zuul/sgid-frontmv/identity/getUserInfoByTicket":"http://id.sgcc.com.cn:18082/sgid-frontmv/identity/getUserInfoByTicket",getAccessToken:h?"https://igw.isgcc.net:18443/zuul/sgid-provider-console/res/iscMincroService/getAccessToken":"http://id.sgcc.com.cn:18082/sgid-provider-console/res/iscMincroService/getAccessToken",newGetTicket:"https://id.sgcc.com.cn:10443/igwmobile/proxy/getUserByIgwCode"},w=["ext_ISCP_Init","ext_ISCP_ConnectService","ext_ISCP_GetLocalPort","ext_ISCP_Close","ext_ISCP_Status","openUrl","previewFile","multiWindows_subscribe","ext_Socket_UnInit","ext_Socket_Init","ext_Socket_CreateChannel","ext_Socket_CloseChannel","ext_Socket_SendData"],S=function(){var e=(0,s.A)((0,o.A)().mark((function e(){return(0,o.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.k0)("https://res.wx.qq.com/open/js/jweixin-1.2.0.js");case 3:wx.error((function(e){p.log("初始化引擎失败...",e)})),wx.config({beta:!0,debug:!1,appId:m.corpid,timestamp:m.timestamp,nonceStr:m.nonceStr,signature:m.signature,jsApiList:w}),p.log("脚本加载成功"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),p.error("脚本加载失败:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),b=n(43859)["A"],v={data:function(){return{Tips:""}},onLoad:function(){this.IscInit()},methods:{close:function(){this.$tab.navigateBack()},IscInit:function(){var e=this;return(0,s.A)((0,o.A)().mark((function t(){var n,i,r,a,c;return(0,o.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,n=!0,i=!0,r=!1,a=!0,c=g().initPort(),n){t.next=10;break}return t.next=9,e.handleDevLogin();case 9:return t.abrupt("return");case 10:if(!i){t.next=25;break}if(!r){t.next=16;break}return t.next=14,e.handleTest3Login(c);case 14:t.next=23;break;case 16:if(!a){t.next=21;break}return t.next=19,e.handleTest4Login(c);case 19:t.next=23;break;case 21:return t.next=23,e.handleProdLogin();case 23:t.next=27;break;case 25:return t.next=27,e.handleDevLogin();case 27:t.next=33;break;case 29:t.prev=29,t.t0=t["catch"](0),b.error("Login error:",t.t0),e.$modal.msgError("登录失败，请重试");case 33:case"end":return t.stop()}}),t,null,[[0,29]])})))()},handleProdLogin:function(){var e=this;return(0,s.A)((0,o.A)().mark((function t(){var n,i,r,a;return(0,o.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=g().initPort(),r=e.getUserInfo(),e.initializeUrls(i),t.next=5,(0,I.Z8)({nameCode:r.nameCode});case 5:if(a=t.sent,null===(n=a.data)||void 0===n||!n.access_token){t.next=12;break}return(0,l.WG)(a.data.access_token),t.next=10,e.loginSuccess();case 10:t.next=13;break;case 12:throw new Error("获取token失败");case 13:case"end":return t.stop()}}),t)})))()},handleTest3Login:function(e){var t=this;return(0,s.A)((0,o.A)().mark((function n(){return(0,o.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.initializeUrls(e),n.next=3,t.handleProdLogin();case 3:case"end":return n.stop()}}),n)})))()},handleTest4Login:function(e){var t=this;return(0,s.A)((0,o.A)().mark((function n(){return(0,o.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.initializeUrls(e),n.next=3,t.handleProdLogin();case 3:case"end":return n.stop()}}),n)})))()},getUserInfo:function(){var e=uni.getStorageSync("hboms_userInfo");return JSON.parse(e)},initializeUrls:function(e){var t="/ftd/api",n="/ftd/oss",i="/mbsb",r="/ftd/websocket",a="/nus/see/connect",c="http://127.0.0.1:".concat(e).concat(t),o="http://127.0.0.1:".concat(e).concat(n),s="http://127.0.0.1:".concat(e).concat(i),l="ws://127.0.0.1:".concat(e).concat(r),I="".concat(c).concat(a);(0,d.setBaseUrl)(c),(0,d.setImgUrl)("".concat(o,"/static/images")),(0,d.setLibUrl)("".concat(o,"/static/lib")),(0,d.setFaceUrl)(s),(0,d.setWebsocketUrl)(l),(0,d.setSseUrl)(I),b.log(c,"baseUrl")},handleDevLogin:function(){var e=this;return(0,s.A)((0,o.A)().mark((function t(){return(0,o.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("Login",{username:"admin",password:"admin123"});case 2:return e.Tips="应用程序鉴权成功...",t.next=5,e.loginSuccess();case 5:case"end":return t.stop()}}),t)})))()},loginSuccess:function(){var e=this;return(0,s.A)((0,o.A)().mark((function t(){return(0,o.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("GetInfo");case 2:return t.next=4,e.initWx();case 4:e.$tab.reLaunch("/pages/work/index");case 5:case"end":return t.stop()}}),t)})))()},initWx:function(){return(0,s.A)((0,o.A)().mark((function e(){return(0,o.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:case"end":return e.stop()}}),e)})))()}}},k=v,x=(n(4025),n(18535)),y=(0,x.A)(k,a,c,!1,null,"56fdde33",null,!1,r,i),A=y.exports},98488:function(e,t,n){"use strict";n.r(t);var i=n(45522),r=n.n(i),a=n(67643),c=n.n(a),o=c()(r());o.push([e.id,".uni-page-body[data-v-56fdde33]{height:100vh}.load[data-v-56fdde33]{padding-top:env(safe-area-inset-top)}.load .closeClass[data-v-56fdde33]{width:100%;text-align:right;padding:10%;box-sizing:border-box}",""]),t["default"]=o},51019:function(e,t,n){"use strict";n.r(t);var i=n(45522),r=n.n(i),a=n(67643),c=n.n(a),o=n(48402),s=n.n(o),l=new URL(n(92337),n.b),d=c()(r()),I=s()(l);d.push([e.id,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.u-loading-circle[data-v-19cf7fca]{display:inline-flex;vertical-align:middle;width:%?28?%;height:%?28?%;background:0 0;border-radius:50%;border:2px solid;border-color:#e5e5e5 #e5e5e5 #e5e5e5 #8f8d8e;-webkit-animation:u-circle-data-v-19cf7fca 1s linear infinite;animation:u-circle-data-v-19cf7fca 1s linear infinite}.u-loading-flower[data-v-19cf7fca]{width:20px;height:20px;display:inline-block;vertical-align:middle;-webkit-animation:u-flower-data-v-19cf7fca 1s steps(12) infinite;animation:u-flower-data-v-19cf7fca 1s steps(12) infinite;background:transparent url('+I+") no-repeat;background-size:100%}@-webkit-keyframes u-flower-data-v-19cf7fca{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes u-flower-data-v-19cf7fca{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes u-circle-data-v-19cf7fca{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""]),t["default"]=d},92337:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4="}}]);