(self["webpackChunkhydro_flex_control"]=self["webpackChunkhydro_flex_control"]||[]).push([[549],{9293:function(e,r,n){var t=n(63481);t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);var a=n(69333).A;a("55cadbce",t,!0,{sourceMap:!1,shadowMode:!1})},35063:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return m}});var t,a={uniForms:n(70491).A,uniFormsItem:n(74392).A,uniEasyinput:n(11172).A,uniDataCheckbox:n(81613).A},u=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"example"},[n("uni-forms",{ref:"form",attrs:{model:e.user,labelWidth:"80px"}},[n("uni-forms-item",{attrs:{label:"用户昵称",name:"nickName"}},[n("uni-easyinput",{attrs:{placeholder:"请输入昵称"},model:{value:e.user.nickName,callback:function(r){e.$set(e.user,"nickName",r)},expression:"user.nickName"}})],1),n("uni-forms-item",{attrs:{label:"手机号码",name:"phonenumber"}},[n("uni-easyinput",{attrs:{placeholder:"请输入手机号码"},model:{value:e.user.phonenumber,callback:function(r){e.$set(e.user,"phonenumber",r)},expression:"user.phonenumber"}})],1),n("uni-forms-item",{attrs:{label:"邮箱",name:"email"}},[n("uni-easyinput",{attrs:{placeholder:"请输入邮箱"},model:{value:e.user.email,callback:function(r){e.$set(e.user,"email",r)},expression:"user.email"}})],1),n("uni-forms-item",{attrs:{label:"性别",name:"sex",required:!0}},[n("uni-data-checkbox",{attrs:{localdata:e.sexs},model:{value:e.user.sex,callback:function(r){e.$set(e.user,"sex",r)},expression:"user.sex"}})],1)],1),n("v-uni-button",{attrs:{type:"primary"},on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.submit.apply(void 0,arguments)}}},[e._v("提交")])],1)],1)},o=[],i=n(62008),s=n(43859)["A"],l={data:function(){return{user:{nickName:"",phonenumber:"",email:"",sex:""},sexs:[{text:"男",value:"0"},{text:"女",value:"1"}],rules:{nickName:{rules:[{required:!0,errorMessage:"用户昵称不能为空"}]},phonenumber:{rules:[{required:!0,errorMessage:"手机号码不能为空"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,errorMessage:"请输入正确的手机号码"}]},email:{rules:[{required:!0,errorMessage:"邮箱地址不能为空"},{format:"email",errorMessage:"请输入正确的邮箱地址"}]}}}},onLoad:function(){this.getUser()},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{getUser:function(){var e=this;(0,i.VM)().then((function(r){e.user=r.data})).catch((function(e){s.log(e)}))},submit:function(e){var r=this;this.$refs.form.validate().then((function(e){(0,i.eg)(r.user).then((function(e){r.$modal.msgSuccess("修改成功")})).catch((function(e){s.log("error",e)}))}))}}},c=l,f=(n(9293),n(18535)),d=(0,f.A)(c,u,o,!1,null,"55561288",null,!1,a,t),m=d.exports},63481:function(e,r,n){"use strict";n.r(r);var t=n(45522),a=n.n(t),u=n(67643),o=n.n(u),i=o()(a());i.push([e.id,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-55561288]{background-color:#fff}body.?%PAGE?%[data-v-55561288]{background-color:#fff}.example[data-v-55561288]{padding:15px;background-color:#fff}.segmented-control[data-v-55561288]{margin-bottom:15px}.button-group[data-v-55561288]{margin-top:15px;display:flex;justify-content:space-around}.form-item[data-v-55561288]{display:flex;align-items:center;flex:1}.button[data-v-55561288]{display:flex;align-items:center;height:35px;line-height:35px;margin-left:10px}',""]),r["default"]=i},62008:function(e,r,n){"use strict";n.d(r,{F4:function(){return s},VM:function(){return o},cO:function(){return u},eg:function(){return i}});var t=n(29987),a=n(41325);function u(e,r){var n={oldPassword:e,newPassword:r};return(0,a.A)({url:"/system/user/profile/updatePwd",method:"put",params:n})}function o(){return(0,a.A)({url:"/system/user/profile",method:"get"})}function i(e){return(0,a.A)({url:"/system/user/profile",method:"put",data:e})}function s(e){return(0,t.A)({url:"/system/user/profile/avatar",name:e.name,filePath:e.filePath})}},29987:function(e,r,n){"use strict";n(74423),n(34782),n(2892),n(79432),n(26099),n(21699);var t=n(46920),a=n(84300),u=n(18471),o=n(50771),i=n(27358),s=1e4,l=function(e){var r=!1===(e.headers||{}).isToken;if(e.header=e.header||{},(0,a.gf)()&&!r&&(e.header["Authorization"]="Bearer "+(0,a.gf)()),e.params){var n=e.url+"?"+(0,o.HE)(e.params);n=n.slice(0,-1),e.url=n}return new Promise((function(r,n){uni.uploadFile({timeout:e.timeout||s,url:e.baseUrl||i.baseUrl+e.url,file:e.file||"",fileType:"image",name:e.name||"file",header:e.header,success:function(e){var a=JSON.parse(e.data),i=Number(a.code)||200,s=u.A[i]||a.msg||u.A["default"];200===i||-1===i?r(a):401==i?((0,o.GQ)("登录状态已过期，您可以继续留在该页面，或者重新登录?").then((function(e){e.confirm&&t.A.dispatch("LogOut").then((function(e){uni.reLaunch({url:"/pages/login/login"})}))})),n("无效的会话，或者会话已过期，请重新登录。")):500===i?((0,o.oR)(s),n("500")):200!==i&&((0,o.oR)(s),n(i))},fail:function(e){var r=e.message;"Network Error"==r?r="后端接口连接异常":r.includes("timeout")?r="系统接口请求超时":r.includes("Request failed with status code")&&(r="系统接口"+r.substr(r.length-3)+"异常"),(0,o.oR)(r),n(e)}})}))};r.A=l},35305:function(e,r,n){"use strict";n.d(r,{A:function(){return a}});n(52675),n(89463),n(2259),n(16280),n(76918),n(26099),n(47764),n(62953);var t=n(28116);function a(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,t.A)(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var a=0,u=function(){};return{s:u,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}}}]);