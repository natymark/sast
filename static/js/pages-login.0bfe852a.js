(self["webpackChunkhydro_flex_control"]=self["webpackChunkhydro_flex_control"]||[]).push([[4729],{44484:function(e,t,i){var n=i(45697);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var r=i(69333).A;r("8f8b73d2",n,!0,{sourceMap:!1,shadowMode:!1})},14815:function(e,t,i){var n=i(51019);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var r=i(69333).A;r("61125470",n,!0,{sourceMap:!1,shadowMode:!1})},34001:function(e,t,i){"use strict";var n;i.d(t,{A:function(){return d}});var r,a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("v-uni-view",{staticClass:"u-loading",class:"circle"==e.mode?"u-loading-circle":"u-loading-flower",style:[e.cricleStyle]}):e._e()},c=[],o={name:"u-loading",props:{mode:{type:String,default:"circle"},color:{type:String,default:"#c7c7c7"},size:{type:[String,Number],default:"34"},show:{type:Boolean,default:!0}},computed:{cricleStyle(){let e={};return e.width=this.size+"rpx",e.height=this.size+"rpx","circle"==this.mode&&(e.borderColor=`#e4e4e4 #e4e4e4 #e4e4e4 ${this.color?this.color:"#c7c7c7"}`),e}}},s=o,l=(i(14815),i(18535)),I=(0,l.A)(s,a,c,!1,null,"19cf7fca",null,!1,n,r),d=I.exports},37936:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return v}});var n,r={uIcon:i(15614).A,uLoading:i(34001).A},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"load",style:{height:"100%",display:"flex"}},[i("v-uni-view",{style:{flex:"1",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"}},[i("v-uni-view",{staticClass:"closeClass",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[i("u-icon",{attrs:{name:"close-circle",color:"#009280",size:"48"}})],1),i("v-uni-view",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},[i("v-uni-view",{style:{fontSize:"48rpx",fontWeight:"bold",backgroundImage:"-webkit-linear-gradient(top, #009280, #b8edd9)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}},[e._v("非统调水电厂调度系统")])],1),i("v-uni-view",{staticClass:"content",style:{display:"flex",alignItems:"center",padding:"20%"}},[i("u-loading",{attrs:{color:"#009280",mode:"circle"}}),i("v-uni-view",{style:{marginLeft:"20rpx",color:"#009280"}},[e._v(e._s(e.Tips))])],1)],1)],1)},c=[],o=i(42727),s=i(50575),l=(i(16280),i(76918),i(28706),i(79432),i(84300)),I=i(27015),d=i(1776),u=i(27358),g=i.n(u),f=i(43859)["A"],p={data:function(){return{Tips:""}},onLoad:function(){this.IscInit()},methods:{close:function(){this.$tab.navigateBack()},IscInit:function(){var e=this;return(0,s.A)((0,o.A)().mark((function t(){var i,n,r,a,c;return(0,o.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,i=!0,n=!0,r=!1,a=!0,c=g().initPort(),i){t.next=10;break}return t.next=9,e.handleDevLogin();case 9:return t.abrupt("return");case 10:if(!n){t.next=25;break}if(!r){t.next=16;break}return t.next=14,e.handleTest3Login(c);case 14:t.next=23;break;case 16:if(!a){t.next=21;break}return t.next=19,e.handleTest4Login(c);case 19:t.next=23;break;case 21:return t.next=23,e.handleProdLogin();case 23:t.next=27;break;case 25:return t.next=27,e.handleDevLogin();case 27:t.next=33;break;case 29:t.prev=29,t.t0=t["catch"](0),f.error("Login error:",t.t0),e.$modal.msgError("登录失败，请重试");case 33:case"end":return t.stop()}}),t,null,[[0,29]])})))()},handleProdLogin:function(){var e=this;return(0,s.A)((0,o.A)().mark((function t(){var i,n,r,a;return(0,o.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=g().initPort(),r=e.getUserInfo(),e.initializeUrls(n),t.next=5,(0,d.Z8)({nameCode:r.nameCode});case 5:if(a=t.sent,null===(i=a.data)||void 0===i||!i.access_token){t.next=12;break}return(0,l.WG)(a.data.access_token),t.next=10,e.loginSuccess();case 10:t.next=13;break;case 12:throw new Error("获取token失败");case 13:case"end":return t.stop()}}),t)})))()},handleTest3Login:function(e){var t=this;return(0,s.A)((0,o.A)().mark((function i(){return(0,o.A)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.initializeUrls(e),i.next=3,t.handleProdLogin();case 3:case"end":return i.stop()}}),i)})))()},handleTest4Login:function(e){var t=this;return(0,s.A)((0,o.A)().mark((function i(){return(0,o.A)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.initializeUrls(e),i.next=3,t.handleProdLogin();case 3:case"end":return i.stop()}}),i)})))()},getUserInfo:function(){var e=uni.getStorageSync("hboms_userInfo");return JSON.parse(e)},initializeUrls:function(e){var t="/ftd/api",i="/ftd/oss",n="/mbsb",r="/ftd/websocket",a="http://127.0.0.1:".concat(e).concat(t),c="http://127.0.0.1:".concat(e).concat(i),o="http://127.0.0.1:".concat(e).concat(n),s="http://127.0.0.1:".concat(e).concat(r);(0,I.setBaseUrl)(a),(0,I.setImgUrl)("".concat(c,"/static/images")),(0,I.setLibUrl)("".concat(c,"/static/lib")),(0,I.setFaceUrl)(o),(0,I.setWebsocketUrl)(s),f.log(a,"baseUrl")},handleDevLogin:function(){var e=this;return(0,s.A)((0,o.A)().mark((function t(){return(0,o.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("Login",{username:"admin",password:"admin123"});case 2:return e.Tips="应用程序鉴权成功...",t.next=5,e.loginSuccess();case 5:case"end":return t.stop()}}),t)})))()},loginSuccess:function(){var e=this;return(0,s.A)((0,o.A)().mark((function t(){return(0,o.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("GetInfo");case 2:e.$tab.reLaunch("/pages/work/index");case 3:case"end":return t.stop()}}),t)})))()}}},h=p,m=(i(44484),i(18535)),b=(0,m.A)(h,a,c,!1,null,"28cd611b",null,!1,r,n),v=b.exports},45697:function(e,t,i){"use strict";i.r(t);var n=i(45522),r=i.n(n),a=i(67643),c=i.n(a),o=c()(r());o.push([e.id,".uni-page-body[data-v-28cd611b]{height:100vh}.load[data-v-28cd611b]{padding-top:env(safe-area-inset-top)}.load .closeClass[data-v-28cd611b]{width:100%;text-align:right;padding:10%;box-sizing:border-box}",""]),t["default"]=o},51019:function(e,t,i){"use strict";i.r(t);var n=i(45522),r=i.n(n),a=i(67643),c=i.n(a),o=i(48402),s=i.n(o),l=new URL(i(92337),i.b),I=c()(r()),d=s()(l);I.push([e.id,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.u-loading-circle[data-v-19cf7fca]{display:inline-flex;vertical-align:middle;width:%?28?%;height:%?28?%;background:0 0;border-radius:50%;border:2px solid;border-color:#e5e5e5 #e5e5e5 #e5e5e5 #8f8d8e;-webkit-animation:u-circle-data-v-19cf7fca 1s linear infinite;animation:u-circle-data-v-19cf7fca 1s linear infinite}.u-loading-flower[data-v-19cf7fca]{width:20px;height:20px;display:inline-block;vertical-align:middle;-webkit-animation:u-flower-data-v-19cf7fca 1s steps(12) infinite;animation:u-flower-data-v-19cf7fca 1s steps(12) infinite;background:transparent url('+d+") no-repeat;background-size:100%}@-webkit-keyframes u-flower-data-v-19cf7fca{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes u-flower-data-v-19cf7fca{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes u-circle-data-v-19cf7fca{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""]),t["default"]=I},92337:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4="}}]);