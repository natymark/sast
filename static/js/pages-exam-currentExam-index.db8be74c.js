(self["webpackChunkhydro_flex_control"]=self["webpackChunkhydro_flex_control"]||[]).push([[3645],{77816:function(t,e,i){var n=i(95993);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(69333).A;o("78b0dcc3",n,!0,{sourceMap:!1,shadowMode:!1})},47218:function(t,e,i){var n=i(54735);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(69333).A;o("a87b67de",n,!0,{sourceMap:!1,shadowMode:!1})},18994:function(t,e,i){var n=i(93799);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(69333).A;o("6909c35e",n,!0,{sourceMap:!1,shadowMode:!1})},42971:function(t,e,i){var n=i(33247);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(69333).A;o("015b7e3f",n,!0,{sourceMap:!1,shadowMode:!1})},57669:function(t,e,i){var n=i(14953);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(69333).A;o("7651d356",n,!0,{sourceMap:!1,shadowMode:!1})},55712:function(t,e,i){var n=i(91444);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(69333).A;o("44a7e732",n,!0,{sourceMap:!1,shadowMode:!1})},14589:function(t,e,i){var n=i(50761);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(69333).A;o("2ed965c5",n,!0,{sourceMap:!1,shadowMode:!1})},29290:function(t,e,i){var n=i(12582);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(69333).A;o("062ae838",n,!0,{sourceMap:!1,shadowMode:!1})},26415:function(t,e,i){"use strict";i.d(e,{A:function(){return d}});var n,o={uButton:i(97771).A},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[t._e(),i("u-button",{class:t.isPlain?"plain":"",attrs:{disabled:t.disabled,type:t.isPlain?"default":"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click.apply(void 0,arguments)}}},[t._v(t._s(t.btnName))])],1)},a=[],s={name:"MButton",props:{btnName:String,isPlain:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{click:function(){this.$emit("confirm")}}},l=s,u=(i(42971),i(18535)),c=(0,u.A)(l,r,a,!1,null,"38d4add5",null,!1,o,n),d=c.exports},21613:function(t,e,i){"use strict";var n;i.r(e),i.d(e,{default:function(){return ut}});var o,r,a,s,l,u,c,d,f,h,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("liu-questions-copy",{attrs:{dataList:t.list,bankTitle:t.bankTitle,duration:t.duration,tScore:t.totalScore},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.subData.apply(void 0,arguments)}}})],1)},A=[],m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"liu-question"},[i("ListViewFixed",{ref:"mescrollItem",attrs:{list:t.internalGoods,needActive:!1},on:{handlerUp:function(e){arguments[0]=e=t.$handleEvent(e),t.handlerUp.apply(void 0,arguments)}},scopedSlots:t._u([{key:"header",fn:function(){return[i("v-uni-view",{staticClass:"headerWrap"},[i("v-uni-image",{staticClass:"topimg",attrs:{src:t.imgUrl+"/banner.png"}}),i("v-uni-view",{staticClass:"imgtext"},[t._v(t._s(t.bankTitle))]),i("v-uni-view",{staticClass:"imgInfo"},[i("v-uni-text",{staticClass:"totalScore"},[t._v("总分："+t._s(t.totalScore)+"分")]),i("v-uni-view",{staticClass:"totalTime"},[t._v("时间："),i("tuiCountDown",{ref:"totalTime",attrs:{returnTime:!0,hours:!1,time:t.filteredDuration},on:{end:function(e){arguments[0]=e=t.$handleEvent(e),t.end.apply(void 0,arguments)},time:function(e){arguments[0]=e=t.$handleEvent(e),t.time.apply(void 0,arguments)}}})],1),i("v-uni-text",{staticClass:"getScore"},[t._v("得分："+t._s(t.obtainedScore)+"分")]),i("v-uni-text",{staticClass:"spendTime"},[t._v("用时："+t._s(t._f("formatTime")(t.spendTime)))])],1)],1)]},proxy:!0},{key:"content",fn:function(e){var n=e.content,o=e.index;return[i("v-uni-view",{staticClass:"contentWrap"},[i("v-uni-view",{staticClass:"boxtitle"},[i("v-uni-text",{staticClass:"textl"},[t._v(t._s(o+1)+"、")]),i("v-uni-text",{staticClass:"textr"},[t._v(t._s(n.title))])],1),"SINGLE"==n.problemType?i("v-uni-view",{staticClass:"contentbox"},t._l(n.children,(function(e,r){return i("v-uni-view",{key:r,staticClass:"boxbody"},[i("v-uni-view",{staticClass:"chooseitem"},[i("MCheckBox",{attrs:{isSelect:e.isSelect,label:e.alias,active:e.active,isDisabled:e.isDisabled,isFalse:e.isFalse,value:n.selectedAnswer,name:e.alias},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAnswer(o,e)}}}),i("v-uni-view",{staticClass:"bodyr"},[i("v-uni-text",{staticClass:"bodyrt"},[t._v(t._s(e.answer))])],1)],1)],1)})),1):t._e(),"MULTY"===n.problemType?i("v-uni-view",{staticClass:"contentbox"},t._l(n.children,(function(e,r){return i("v-uni-view",{key:r,staticClass:"boxbody"},[i("v-uni-view",{staticClass:"chooseitem"},[i("MCheckBox",{attrs:{isSelect:e.isSelect,label:e.alias,active:e.active,isDisabled:e.isDisabled,isFalse:e.isFalse,value:n.selectedAnswers,name:e.alias,multiple:!0},on:{"update:isSelect":function(i){arguments[0]=i=t.$handleEvent(i),t.$set(e,"isSelect",i)},"update:is-select":function(i){arguments[0]=i=t.$handleEvent(i),t.$set(e,"isSelect",i)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAnswers(o,e)}}}),i("v-uni-view",{staticClass:"bodyr"},[i("v-uni-text",{staticClass:"bodyrt"},[t._v(t._s(e.answer))])],1)],1)],1)})),1):t._e(),t.isSubmitted?i("tui-collapse",{attrs:{index:o,current:t.currentIndex},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.collapseChange(o)}},scopedSlots:t._u([{key:"title",fn:function(){return[i("tui-list-cell",{attrs:{hover:!0}},[t._v(t._s("正确答案："+(Array.isArray(n.correctAnswer)?n.correctAnswer.join(","):n.correctAnswer)))])]},proxy:!0},{key:"content",fn:function(){return[i("v-uni-view",{staticClass:"tui-content"},[t._v(t._s("解析："+n.analysis))])]},proxy:!0}],null,!0)}):t._e()],1)]}},{key:"footer",fn:function(){return[i("v-uni-view",{staticClass:"footerWrap"},[i("MButton",{attrs:{btnName:t.isSubmitted?"已提交":"提交",disabled:t.isSubmitted},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}})],1)]},proxy:!0}])})],1)},v=[],b=i(16259),g=i(49943),w=(i(28706),i(74423),i(62062),i(72712),i(60739),i(33110),i(2892),i(79432),i(26099),i(31415),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(21699),i(47764),i(23500),i(62953),{uIcon:i(15614).A}),y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"MCheckBox"},[i("v-uni-view",{staticClass:"MCheckBox-item"},[i("v-uni-view",{staticClass:"MCheckBox-item-icon",class:{active:t.active,select:t.isSelect,false:t.isFalse,disabled:t.isDisabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggle.apply(void 0,arguments)}}},[t.isSelect?i("u-icon",{attrs:{name:"checkbox-mark",size:t.checkboxIconSize,color:t.iconColor}}):i("v-uni-text",[t._v(t._s(t.label))])],1)],1)],1)},C=[],x=(i(25276),i(44114),i(54554),i(43859)["A"]),S={name:"MCheckBox",props:{isSelect:{type:Boolean,default:!1},label:{type:String,default:""},iconSize:{type:[String,Number],default:""},iconColor:{type:String,default:"#fff"},active:{type:Boolean,default:!1},isFalse:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},value:{type:[String,Array],default:""},name:{type:String,required:!0},multiple:{type:Boolean,default:!1}},computed:{checkboxIconSize:function(){return this.iconSize?this.iconSize:22},isChecked:function(){return this.multiple?Array.isArray(this.value)&&this.value.includes(this.name):this.value===this.name}},methods:{toggle:function(){if(x.log("this.value",this.value),!this.isDisabled){var t=!this.isSelect;if(this.$emit("update:isSelect",t),this.multiple){var e=Array.isArray(this.value)?(0,b.A)(this.value):[],i=e.indexOf(this.name);-1===i?e.push(this.name):e.splice(i,1),this.$emit("input",e)}else this.$emit("input",t?this.name:"")}}},watch:{},mounted:function(){},beforeUpdate:function(){},updated:function(){},activated:function(){},deactivated:function(){},beforeDestroy:function(){}},k=S,_=(i(57669),i(18535)),B=(0,_.A)(k,y,C,!1,null,"a474441e",null,!1,w,r),M=B.exports,T=i(641),z=i(26415),E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"tui-collapse",style:{backgroundColor:t.bgColor}},[i("v-uni-view",{staticClass:"tui-collapse-head",style:{backgroundColor:t.hdBgColor},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handleClick.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"tui-header",class:{"tui-opacity":t.disabled}},[t._t("title"),t.arrow?i("v-uni-view",{staticClass:"tui-collapse-icon tui-icon-arrow",class:{"tui-icon-active":t.isOpen},style:{color:t.arrowColor}}):t._e()],2)],1),i("v-uni-view",{staticClass:"tui-collapse-body_box",style:{backgroundColor:t.bdBgColor,height:t.isOpen?t.height:"0rpx"}},[i("v-uni-view",{staticClass:"tui-collapse-body",class:{"tui-collapse-transform":"auto"==t.height,"tui-collapse-body_show":t.isOpen&&"auto"==t.height}},[t._t("content")],2)],1)],1)},D=[],N={name:"tuiCollapse",emits:["click"],props:{bgColor:{type:String,default:"transparent"},hdBgColor:{type:String,default:"#fff"},bdBgColor:{type:String,default:"transparent"},height:{type:String,default:"auto"},index:{type:Number,default:0},current:{type:Number,default:-1},disabled:{type:Boolean,default:!1},arrow:{type:Boolean,default:!0},arrowColor:{type:String,default:"#333"}},watch:{current:function(){this.updateCurrentChange()}},created:function(){this.updateCurrentChange()},data:function(){return{isOpen:!1}},methods:{updateCurrentChange:function(){this.isOpen=this.index==this.current},handleClick:function(){this.disabled||this.$emit("click",{index:Number(this.index)})}}},G=N,I=(i(77816),(0,_.A)(G,E,D,!1,null,"7cdbb07b",null,!1,a,s)),L=I.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"tui-list-class tui-list-cell",class:[t.radius&&"0"!=t.radius?"tui-radius":"",t.hover?"tui-cell-hover":""],style:{backgroundColor:t.backgroundColor,fontSize:t.getSize+"rpx",color:t.getColor,padding:t.getPadding,borderRadius:t.radius+"rpx",marginTop:t.marginTop+"rpx",marginBottom:t.marginBottom+"rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick.apply(void 0,arguments)}}},[t._t("default"),t.unlined?t._e():i("v-uni-view",{staticClass:"tui-cell__line",style:{borderBottomColor:t.getLineColor,left:t.getLineLeft+"rpx",right:t.lineRight+"rpx"}}),t.arrow?i("v-uni-view",{staticClass:"tui-cell__arrow",style:{borderColor:t.getArrowColor,right:t.arrowRight+"rpx"}}):t._e()],2)},$=[],Q={name:"tuiListCell",emits:["click"],props:{arrow:{type:Boolean,default:!1},arrowColor:{type:String,default:""},hover:{type:Boolean,default:!0},unlined:{type:Boolean,default:!1},lineColor:{type:String,default:""},lineLeft:{type:[Number,String],default:-1},lineRight:{type:[Number,String],default:0},padding:{type:String,default:""},marginTop:{type:[Number,String],default:0},marginBottom:{type:[Number,String],default:0},backgroundColor:{type:String,default:"#fff"},size:{type:Number,default:0},color:{type:String,default:""},radius:{type:[Number,String],default:0},arrowRight:{type:[Number,String],default:30},index:{type:Number,default:0}},computed:{getArrowColor:function(){return this.arrowColor||uni&&uni.$tui&&uni.$tui.tuiListCell.arrowColor||"#c0c0c0"},getLineColor:function(){return this.lineColor||uni&&uni.$tui&&uni.$tui.tuiListCell.lineColor||"#eaeef1"},getLineLeft:function(){var t=this.lineLeft;return-1===t&&(t=uni&&uni.$tui&&uni.$tui.tuiListCell.lineLeft),void 0===t||null===t?30:t},getPadding:function(){return this.padding||uni&&uni.$tui&&uni.$tui.tuiListCell.padding||"26rpx 30rpx"},getColor:function(){return this.color||uni&&uni.$tui&&uni.$tui.tuiListCell.color||"#333"},getSize:function(){return this.size||uni&&uni.$tui&&uni.$tui.tuiListCell.size||28}},methods:{handleClick:function(){this.$emit("click",{index:this.index})}}},j=Q,F=(i(18994),(0,_.A)(j,Y,$,!1,null,"459d0542",null,!1,l,u)),U=F.exports,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"tui-countdown-box"},[t.days?i("v-uni-view",{staticClass:"tui-countdown-item",style:{background:t.backgroundColor,borderColor:t.borderColor,width:t.getWidth(t.d,t.width)+"rpx",height:t.height+"rpx"}},[i("v-uni-view",{staticClass:"tui-countdown-time",class:[t.scale?"tui-countdown-scale":""],style:{fontSize:t.size+"rpx",color:t.color,lineHeight:t.size+"rpx"}},[t._v(t._s(t.d))])],1):t._e(),t.days?i("v-uni-view",{staticClass:"tui-countdown-colon",class:{"tui-colon-pad":"transparent"==t.borderColor},style:{lineHeight:t.colonSize+"rpx",fontSize:t.colonSize+"rpx",color:t.colonColor}},[t._v(t._s(t.isColon?":":"天"))]):t._e(),t.hours?i("v-uni-view",{staticClass:"tui-countdown-item",style:{background:t.backgroundColor,borderColor:t.borderColor,width:t.getWidth(t.h,t.width)+"rpx",height:t.height+"rpx"}},[i("v-uni-view",{staticClass:"tui-countdown-time",class:[t.scale?"tui-countdown-scale":""],style:{fontSize:t.size+"rpx",color:t.color,lineHeight:t.size+"rpx"}},[t._v(t._s(t.h))])],1):t._e(),t.hours?i("v-uni-view",{staticClass:"tui-countdown-colon",class:{"tui-colon-pad":"transparent"==t.borderColor},style:{lineHeight:t.colonSize+"rpx",fontSize:t.colonSize+"rpx",color:t.colonColor}},[t._v(t._s(t.isColon?":":"时"))]):t._e(),t.minutes?i("v-uni-view",{staticClass:"tui-countdown-item",style:{background:t.backgroundColor,borderColor:t.borderColor,width:t.getWidth(t.i,t.width)+"rpx",height:t.height+"rpx"}},[i("v-uni-view",{staticClass:"tui-countdown-time",class:[t.scale?"tui-countdown-scale":""],style:{fontSize:t.size+"rpx",color:t.color,lineHeight:t.size+"rpx"}},[t._v(t._s(t.i))])],1):t._e(),t.minutes?i("v-uni-view",{staticClass:"tui-countdown-colon",class:{"tui-colon-pad":"transparent"==t.borderColor},style:{lineHeight:t.colonSize+"rpx",fontSize:t.colonSize+"rpx",color:t.colonColor}},[t._v(t._s(t.isColon?":":"分"))]):t._e(),t.seconds?i("v-uni-view",{staticClass:"tui-countdown-item",style:{background:t.backgroundColor,borderColor:t.borderColor,width:t.getWidth(t.s,t.width)+"rpx",height:t.height+"rpx"}},[i("v-uni-view",{staticClass:"tui-countdown-time",class:[t.scale?"tui-countdown-scale":""],style:{fontSize:t.size+"rpx",color:t.color,lineHeight:t.size+"rpx"}},[t._v(t._s(t.s))])],1):t._e(),t.seconds&&!t.isColon?i("v-uni-view",{staticClass:"tui-countdown-colon",class:{"tui-colon-pad":"transparent"==t.borderColor},style:{lineHeight:t.colonSize+"rpx",fontSize:t.colonSize+"rpx",color:t.colonColor}},[t._v(t._s(t.unitEn?"s":"秒"))]):t._e(),t.seconds&&t.isMs&&t.isColon?i("v-uni-view",{staticClass:"tui-countdown-colon",style:{lineHeight:t.colonSize+"rpx",fontSize:t.colonSize+"rpx",color:t.colonColor}},[t._v(".")]):t._e(),t.seconds&&t.isMs?i("v-uni-view",{staticClass:"tui-countdown__ms",style:{background:t.backgroundColor,borderColor:t.borderColor,fontSize:t.msSize+"rpx",color:t.msColor,height:t.height+"rpx",width:t.msWidth>0?t.msWidth+"rpx":"auto"}},[i("v-uni-view",{class:{"tui-ms__list":t.ani}},t._l(t.ms,(function(e,n){return i("v-uni-view",{key:n,staticClass:"tui-ms__item",style:{height:t.height+"rpx"}},[i("v-uni-view",{class:[t.scale?"tui-countdown-scale":""]},[t._v(t._s(e))])],1)})),1)],1):t._e()],1)},W=[],R=(i(76918),i(38781),{name:"tuiCountdown",emits:["end","time"],props:{width:{type:Number,default:32},height:{type:Number,default:32},borderColor:{type:String,default:"#333"},backgroundColor:{type:String,default:"#fff"},size:{type:Number,default:24},color:{type:String,default:"#333"},scale:{type:Boolean,default:!1},colonSize:{type:Number,default:28},colonColor:{type:String,default:"#333"},time:{type:[Number,String],default:0},days:{type:Boolean,default:!1},hours:{type:Boolean,default:!0},minutes:{type:Boolean,default:!0},seconds:{type:Boolean,default:!0},unitEn:{type:Boolean,default:!1},isColon:{type:Boolean,default:!0},returnTime:{type:Boolean,default:!1},isMs:{type:Boolean,default:!1},msWidth:{type:Number,default:32},msSize:{type:Number,default:24},msColor:{type:String,default:"#333"}},watch:{time:function(t){this.clearTimer(),this.doLoop()}},data:function(){return{countdown:null,d:"0",h:"00",i:"00",s:"00",ms:[0,1,2,3,4,5,6,7,8,9],ani:!1}},created:function(){this.clearTimer();var t=Number(this.time||0);t>0&&this.doLoop()},beforeDestroy:function(){this.clearTimer()},methods:{getWidth:function(t,e){return t>99?e/2*t.toString().length:e},clearTimer:function(){clearInterval(this.countdown),this.countdown=null},endOfTime:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.ani=!1,this.clearTimer(),t||this.$emit("end",{})},doLoop:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=e||Number(this.time||0);this.ani=!0,this.countDown(i),this.countdown=setInterval((function(){i--,t.countDown(i),t.returnTime&&t.$emit("time",{seconds:i}),i<=0&&t.endOfTime()}),1e3)},countDown:function(t){var e=0,i=0,n=0,o=0;t>0&&(e=this.days?Math.floor(t/86400):0,i=this.hours?Math.floor(t/3600)-24*e:0,n=this.minutes?Math.floor(t/60)-60*i-24*e*60:0,o=Math.floor(t)-24*e*60*60-60*i*60-60*n),i=i<10?"0"+i:i,n=n<10?"0"+n:n,o=o<10?"0"+o:o,this.d=e,this.h=i,this.i=n,this.s=o},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=t||Number(this.time);this.clearTimer(),e>0&&this.doLoop(e)}}}),H=R,O=(i(47218),(0,_.A)(H,q,W,!1,null,"39e0c13c",null,!1,c,d)),P=O.exports,K=i(43859)["A"],Z={name:"liu-question",components:{MCheckBox:M,ListViewFixed:T.A,MButton:z.A,tuiCollapse:L,tuiListCell:U,tuiCountDown:P},props:{dataList:{type:Array,default:function(){return[]}},duration:{type:[Number,String],default:10},bankTitle:{type:String,default:""},tScore:{type:[Number,String],default:0}},computed:{imgUrl:function(){return i(27358).imgUrl}},data:function(){return{internalGoods:[],isSubmitted:!1,currentIndex:-1,remainTime:0,spendTime:0,obtainedScore:0,filteredDuration:0}},created:function(){this.initializeGoods(),this.filteredDuration=this.filterDuration(this.duration)},filters:{formatTime:function(t){var e=t;if(0===e)return"";if(e>=60){var i=Math.floor(e/60),n=e%60;return"".concat(i,"分").concat(n,"秒")}return"".concat(e,"秒")}},watch:{dataList:{handler:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(K.log("触发了",t,e),this.initializeGoods())},deep:!0}},methods:{initializeGoods:function(){this.internalGoods=this.dataList.map((function(t){return(0,g.A)((0,g.A)({},t),{},{selectedAnswer:"",selectedAnswers:[]})})),this.totalScore=this.calculateScore(!0)},end:function(){this.$u.toast("时间到"),this.submit()},time:function(t){this.remainTime=t.seconds},getSpendTime:function(){this.spendTime=this.duration-this.remainTime},collapseChange:function(t){this.currentIndex=this.currentIndex===t?-1:t},updateAnswer:function(t,e){var i=this;this.$set(this.internalGoods[t],"selectedAnswer",e),this.internalGoods[t].children.forEach((function(t){i.$set(t,"isSelect",t.alias===e)}))},updateAnswers:function(t,e){var i=this;this.$set(this.internalGoods[t],"selectedAnswers",e),this.internalGoods[t].children.forEach((function(t){i.$set(t,"isSelect",e.includes(t.alias))})),K.log("Updated internalGoods:",JSON.parse(JSON.stringify(this.internalGoods)))},submit:function(){this.internalGoods.forEach((function(t){var e,i=t.correctAnswer;null===(e=t.children)||void 0===e||e.forEach((function(e){var n="SINGLE"===t.problemType?e.alias===i:i.includes(e.alias);e.isFalse=e.isSelect&&!n,e.active=n,e.isDisabled=!0}))})),this.$refs.totalTime.endOfTime({isStop:!0}),this.getSpendTime(),this.isSubmitted=!0,this.obtainedScore=this.calculateScore(),this.$emit("submit",{internalGoods:this.internalGoods,obtainedScore:this.obtainedScore})},handlerUp:function(t){this.$refs.mescrollItem.mescroll.endBySize(1,1)},calculateScore:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.internalGoods.reduce((function(i,n){return e||t.isCorrectAnswer(n)?i+n.score:i}),0)},isCorrectAnswer:function(t){if("SINGLE"===t.problemType)return t.selectedAnswer===t.correctAnswer;if("MULTY"===t.problemType){var e=new Set(t.selectedAnswers),i=new Set(t.correctAnswer);return e.size===i.size&&(0,b.A)(e).every((function(t){return i.has(t)}))}return!1},filterDuration:function(t){var e=Number(t);return e<10?60:e}}},J=Z,V=(i(14589),i(29290),(0,_.A)(J,m,v,!1,null,"38162f40",null,!1,o,f)),X=V.exports,tt=i(63065),et=i(51729),it=i(99801),nt=function(){function t(){(0,tt.A)(this,t),this.data=[],this.questionType={1:"SINGLE",2:"MULTY"},this.answerMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9"},this.examId="",this.examDesc="",this.totalScore=0,this.examDuration=0,this.questionList=[],this.questionIds=""}return(0,et.A)(t,[{key:"init",value:function(t){var e=this;return this.examId=t,new Promise((function(i,n){(0,it.G8)({examId:t}).then((function(t){var i=t.data,n=i.questionList,o=i.examDesc,r=i.totalScore,a=i.examDuration,s=i.questionIds;e.examDesc=o,e.totalScore=r,e.examDuration=a,e.questionList=n,e.questionIds=s})).then((function(){var t=e.transform();i(t)})).catch((function(t){n(t)}))}))}},{key:"transform",value:function(){return this.buildQuestion()}},{key:"buildQuestion",value:function(){for(var t=this,e=this.questionList,i=[],n=function(){var n=e[o],r=n.questionType,a=n.questionContent,s=n.score,l=n.analysis,u=n.answer,c="",d=u&&u.map((function(t,e){var i=t.answer,n=t.isTrue;return 1==r?"true"===n&&(c=String.fromCharCode(65+e)):2==r&&"true"===n&&(Array.isArray(c)||(c=[]),c.push(String.fromCharCode(65+e))),{alias:String.fromCharCode(65+e),answer:i,isSelect:!1,active:!1,isDisabled:!1,isFalse:!1}})),f={id:n.questionId,title:a,problemType:t.questionType[r],score:s,analysis:l,correctAnswer:c,children:d};i.push(f)},o=0;o<e.length;o++)n();return i}},{key:"buildSubmit",value:function(t){var e=this,i=t.internalGoods,n=t.obtainedScore,o={},r=[];return i.forEach((function(t){"SINGLE"==t.problemType?t.selectedAnswer?r.push(e.answerMap[t.selectedAnswer]):r.push(0):"MULTY"==t.problemType&&(t.selectedAnswers.length>0?r.push(t.selectedAnswers.map((function(t){return e.answerMap[t]})).join(",")):r.push(0))})),o.userAnswers=r.join("-"),o.questionIds=this.questionIds,o.examId=Number(this.examId),o.creditImgUrl="",o.totalScore=n,o}},{key:"saveExamRecord",value:function(t){return new Promise((function(e,i){(0,it.w_)(t).then((function(t){e(t)})).catch((function(t){i(t)}))}))}}])}(),ot=nt,rt=i(43859)["A"],at={components:{liuQuestionsCopy:X},data:function(){return{bankTitle:"",duration:10,totalScore:0,examId:"",list:[],transformExamData:null}},methods:{updateAnswers:function(t){rt.log("更新答案：",t)},subData:function(t){rt.log("提交的数据：",t);var e=this.transformExamData.buildSubmit(t);this.transformExamData.saveExamRecord(e).then((function(t){rt.log("保存考试信息：",t),200==t.code&&uni.showToast({title:"保存成功",icon:"none"})}))}},watch:{},created:function(){var t=this;this.transformExamData=new ot,this.transformExamData.init(this.examId).then((function(e){rt.log("res",e),t.list=e}))},onLoad:function(t){var e=t.id,i=t.title,n=t.duration,o=t.totalScore;this.bankTitle=i,this.duration=n,this.totalScore=o,this.examId=e},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){}},st=at,lt=(i(55712),(0,_.A)(st,p,A,!1,null,"3a7f0217",null,!1,n,h)),ut=lt.exports},95993:function(t,e,i){"use strict";i.r(e);var n=i(45522),o=i.n(n),r=i(67643),a=i.n(r),s=i(48402),l=i.n(s),u=new URL(i(39755),i.b),c=a()(o()),d=l()(u);c.push([t.id,"@font-face{font-family:tuiCollapse;src:url("+d+') format("woff");font-weight:400;font-style:normal}.tui-collapse-icon[data-v-7cdbb07b]{font-family:tuiCollapse!important;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.tui-icon-arrow[data-v-7cdbb07b]:before{content:"\\e600"}.tui-icon-arrow[data-v-7cdbb07b]{font-size:%?32?%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-transform-origin:center center;transform-origin:center center;transition:all .3s;position:absolute;top:50%;margin-top:-8px;right:%?30?%}.tui-arrow-padding[data-v-7cdbb07b]{padding-right:%?62?%;box-sizing:border-box}.tui-icon-active[data-v-7cdbb07b]{-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-transform-origin:center center;transform-origin:center center}.tui-header[data-v-7cdbb07b]{position:relative;z-index:2}.tui-collapse-body_box[data-v-7cdbb07b]{transition:all .25s;overflow:hidden}.tui-collapse-body[data-v-7cdbb07b]{transition:all .25s;overflow:hidden;position:relative;z-index:1}.tui-collapse-transform[data-v-7cdbb07b]{\n\t/* opacity: 0; */\n\t/* visibility: hidden; */-webkit-transform:translateY(-40%);transform:translateY(-40%)}.tui-collapse-body_show[data-v-7cdbb07b]{opacity:1;visibility:visible;-webkit-transform:translateY(0);transform:translateY(0)}.tui-opacity[data-v-7cdbb07b]{opacity:.6}',""]),e["default"]=c},54735:function(t,e,i){"use strict";i.r(e);var n=i(45522),o=i.n(n),r=i(67643),a=i.n(r),s=a()(o());s.push([t.id,".tui-countdown-box[data-v-39e0c13c]{display:flex;align-items:center}.tui-countdown-box[data-v-39e0c13c]{display:flex;align-items:center}.tui-countdown-item[data-v-39e0c13c]{border:%?1?% solid;display:flex;align-items:center;justify-content:center;border-radius:%?6?%;white-space:nowrap;-webkit-transform:translateZ(0);transform:translateZ(0)}.tui-countdown-time[data-v-39e0c13c]{margin:0;padding:0}.tui-countdown-colon[data-v-39e0c13c]{display:flex;justify-content:center;padding:0 %?5?%}.tui-colon-pad[data-v-39e0c13c]{padding:0!important}.tui-countdown-scale[data-v-39e0c13c]{-webkit-transform:scale(.9);transform:scale(.9);-webkit-transform-origin:center center;transform-origin:center center}.tui-countdown__ms[data-v-39e0c13c]{border:%?1?% solid;overflow:hidden;border-radius:%?6?%}\n\n/*ms使用css3代替js频繁更新操作，性能优化*/.tui-ms__list[data-v-39e0c13c]{-webkit-animation:loop-data-v-39e0c13c 1s steps(10) infinite;animation:loop-data-v-39e0c13c 1s steps(10) infinite}@-webkit-keyframes loop-data-v-39e0c13c{from{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}@keyframes loop-data-v-39e0c13c{from{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}.tui-ms__item[data-v-39e0c13c]{display:flex;align-items:center;justify-content:center}",""]),e["default"]=s},93799:function(t,e,i){"use strict";i.r(e);var n=i(45522),o=i.n(n),r=i(67643),a=i.n(r),s=a()(o());s.push([t.id,".tui-list-cell[data-v-459d0542]{position:relative;width:100%;box-sizing:border-box}.tui-radius[data-v-459d0542]{overflow:hidden}.tui-cell-hover[data-v-459d0542]:active{background-color:rgba(0,0,0,.1)!important}.tui-cell__line[data-v-459d0542]{position:absolute;border-bottom:1px solid #eaeef1;-webkit-transform:scaleY(.5) translateZ(0);transform:scaleY(.5) translateZ(0);-webkit-transform-origin:0 100%;transform-origin:0 100%;bottom:0;right:0;left:0;pointer-events:none}.tui-cell__arrow[data-v-459d0542]{height:10px;width:10px;border-width:2px 2px 0 0;border-color:silver;border-style:solid;-webkit-transform:matrix(.5,.5,-.5,.5,0,0);transform:matrix(.5,.5,-.5,.5,0,0);position:absolute;top:50%;margin-top:-6px;right:%?30?%}",""]),e["default"]=s},33247:function(t,e,i){"use strict";i.r(e);var n=i(45522),o=i.n(n),r=i(67643),a=i.n(r),s=a()(o());s.push([t.id,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.container[data-v-38d4add5]{width:100%;padding:0 %?25?%}.container uni-button[data-v-38d4add5]{width:100%;background-color:#32c3ba;\r\n  /* border: 1rpx solid  #00a096; */color:#fff;font-size:%?32?%}.container uni-button.plain[data-v-38d4add5]{background-color:initial;background:none;color:#32c3ba}.container[data-v-38d4add5]  .u-primary-hover{background-color:#00a096!important}.container[data-v-38d4add5]  uni-button,\r\n.container[data-v-38d4add5]  uni-button:after{border-radius:0!important}.container[data-v-38d4add5]  .u-btn--primary--disabled{background-color:#a2eae6!important}',""]),e["default"]=s},14953:function(t,e,i){"use strict";i.r(e);var n=i(45522),o=i.n(n),r=i(67643),a=i.n(r),s=a()(o());s.push([t.id,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.MCheckBox[data-v-a474441e]{display:flex;align-items:center;justify-content:center;overflow:hidden}.MCheckBox .MCheckBox-item[data-v-a474441e]{width:%?42?%;height:%?42?%;display:flex;align-items:center;justify-content:center;border:1px solid #c8c9cc;border-radius:%?6?%;overflow:hidden}.MCheckBox .MCheckBox-item .MCheckBox-item-icon[data-v-a474441e]{width:%?42?%;height:%?42?%;display:flex;align-items:center;justify-content:center}.MCheckBox .MCheckBox-item .MCheckBox-item-icon.active[data-v-a474441e]{background:#32c3ba;color:#fff}.MCheckBox .MCheckBox-item .MCheckBox-item-icon.select[data-v-a474441e]{background:#00a096;color:#fff}.MCheckBox .MCheckBox-item .MCheckBox-item-icon.false[data-v-a474441e]{background:red;color:#fff}.MCheckBox .MCheckBox-item .MCheckBox-item-icon.disabled[data-v-a474441e]{opacity:.8;cursor:not-allowed}',""]),e["default"]=s},91444:function(t,e,i){"use strict";i.r(e);var n=i(45522),o=i.n(n),r=i(67643),a=i.n(r),s=a()(o());s.push([t.id,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.container[data-v-3a7f0217]{height:100%}',""]),e["default"]=s},50761:function(t,e,i){"use strict";i.r(e);var n=i(45522),o=i.n(n),r=i(67643),a=i.n(r),s=a()(o());s.push([t.id,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-38162f40]{height:auto!important;overflow:auto!important}',""]),e["default"]=s},12582:function(t,e,i){"use strict";i.r(e);var n=i(45522),o=i.n(n),r=i(67643),a=i.n(r),s=a()(o());s.push([t.id,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.liu-question .headerWrap[data-v-38162f40]{width:100%;height:%?140?%;position:relative}.liu-question .headerWrap .topimg[data-v-38162f40]{width:100%;height:100%}.liu-question .headerWrap .imgtext[data-v-38162f40]{position:absolute;bottom:%?80?%;left:%?58?%;font-size:%?36?%;font-weight:400;color:#fff;line-height:%?36?%;text-shadow:%?0?% %?2?% %?4?% rgba(0,0,0,.5)}.liu-question .headerWrap .imgInfo[data-v-38162f40]{width:100%;font-size:%?24?%;background:linear-gradient(0deg,rgba(0,0,0,.2),rgba(0,0,0,.1));padding:%?5?% %?0?% %?5?% %?10?%;position:absolute;bottom:0;left:0;color:#fff;display:flex;justify-content:space-between;text-shadow:%?0?% %?2?% %?4?% #000}.liu-question .headerWrap .imgInfo .totalTime[data-v-38162f40]{display:flex;align-items:center}.liu-question .headerWrap .imgInfo .totalTime .tui-countdown-box[data-v-38162f40]{text-shadow:none}.liu-question .headerWrap .imgInfo .spendTime[data-v-38162f40]{width:%?170?%}.liu-question .contentWrap .tui-collapse[data-v-38162f40]{border-top:1px dashed #e5e5e5}.liu-question .contentWrap .tui-collapse[data-v-38162f40]  .tui-list-cell{padding:%?26?% 0!important}.liu-question .contentWrap .contentbox .boxbody .chooseitem[data-v-38162f40]{display:flex;align-items:center;margin-top:%?20?%}.liu-question .contentWrap .contentbox .boxbody .chooseitem .bodyr[data-v-38162f40]{margin-left:%?10?%}.liu-question .contentWrap .contentbox .boxbody .chooseitem[data-v-38162f40]:nth-last-child(1){margin-bottom:%?30?%}',""]),e["default"]=s},99801:function(t,e,i){"use strict";i.d(e,{G8:function(){return a},Hh:function(){return r},qY:function(){return u},uG:function(){return s},wB:function(){return l},w_:function(){return c}});var n=i(41325),o={load:"/nus/exam/getExamInfo",submit:""},r=function(t){return(0,n.A)({url:o.load,method:"post",data:t})},a=function(t){return(0,n.A)({url:"/nus/exam/getExamInfoById",method:"get",params:t})},s=function(t){return(0,n.A)({url:"/nus/bank/getQuestionBank",method:"get",params:t})},l=function(t){return(0,n.A)({url:"/nus/bank/getQuestionByBank",method:"get",params:t})},u=function(t){return(0,n.A)({url:"/nus/record/getMyGrade",method:"get",params:t})},c=function(t){return(0,n.A)({url:"/nus/record/addExamRecord",method:"post",data:t})}},39755:function(t){"use strict";t.exports="data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQ4AA0AAAAABlgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEHAAAABoAAAAciRx3B0dERUYAAAP8AAAAHgAAAB4AKQAKT1MvMgAAAaAAAABCAAAAVjxuR/JjbWFwAAAB9AAAAD4AAAFCAA/pq2dhc3AAAAP0AAAACAAAAAj//wADZ2x5ZgAAAkAAAABEAAAARCs1U/toZWFkAAABMAAAADAAAAA2FpaT+mhoZWEAAAFgAAAAHQAAACQHngOFaG10eAAAAeQAAAAPAAAAEAwAAEBsb2NhAAACNAAAAAoAAAAKACIAAG1heHAAAAGAAAAAHwAAACABDwAdbmFtZQAAAoQAAAFJAAACiCnmEVVwb3N0AAAD0AAAACMAAAA1DunpUnjaY2BkYGAAYja/oO54fpuvDNwsDCBwc4/6fzjtwNDNfICpBMjlYGACiQIAGVAKZnjaY2BkYGBu+N/AEMPCAALMBxgYGVABCwBVNgMsAAAAeNpjYGRgYGBhEGQA0QwMTEDMBYQMDP/BfAYACnYBLQB42mNgZGFgnMDAysDA1Ml0hoGBoR9CM75mMGLkAIoysDIzYAUBaa4pDA7PGJ4xMDf8b2CIYW5gaAAKM4LkANq9C9sAAHjaY2GAABYIdgAAAMAATQB42mNgYGBmgGAZBkYGELAB8hjBfBYGBSDNAoRA/jOG//8hpBQzVCUDIxsDjMnAyAQkmBhQASPDsAcAMCAGoQAAAAAAAAAAAAAAIgAAAAEAQACLA8ACdAAQAAAlASYiBhQXARYyNwE2NCYiBwIA/oYNIBkMAZcNIA0BlwwZIA3uAXoMGSAN/mkMDAGXDSAZDAB42n2QPU4DMRCFn/MHJBJCIKhdUQDa/JQpEyn0CKWjSDbekGjXXnmdSDkBLRUHoOUYHIAbINFyCl6WSZMia+3o85uZ57EBnOMbCv/fJe6EFY7xKFzBETLhKvUX4Rr5XbiOFj6FG9R/hJu4VQPhFi7UGx1U7YS7m9JtywpnGAhXcIon4Sr1lXCN/CpcxxU+hBvUv4SbGONXuIVrZakM4WEwQWCcQWOKDeMCMRwskjIG1qE59GYSzExPN3oRO5s4GyjvV2KXAx5oOeeAKe09t2a+Sif+YMuB1JhuHgVLtimNLiJ0KBtfLJzV3ahzsP2e7ba02L9rgTXH7FENbNT8Pdsz0khsDK+QkjXyMrekElOPaGus8btnKdbzXgiJTrzL9IjHmjR1OvduaeLA4ufyjBx9tLmSPfeoHD5jWQh5v91OxCCKXYY/k9hxGQAAAHjaY2BigAAuMMnIgA5YwKJMjExciUVF+eW6KfnleQAZ0wQyAAAAAAH//wACAAEAAAAMAAAAFgAAAAIAAQADAAMAAQAEAAAAAgAAAAB42mNgYGBkAIKrS9Q5QPTNPer/YTQAQ+0HIAAA"}}]);