(self["webpackChunkhydro_flex_control"]=self["webpackChunkhydro_flex_control"]||[]).push([[2226],{43536:function(e,t,r){var n=r(35076);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var a=r(69333).A;a("488a51a2",n,!0,{sourceMap:!1,shadowMode:!1})},20316:function(e,t,r){var n=r(7088);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var a=r(69333).A;a("2be3bbb0",n,!0,{sourceMap:!1,shadowMode:!1})},20690:function(e,t,r){var n=r(40310);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var a=r(69333).A;a("45305e1e",n,!0,{sourceMap:!1,shadowMode:!1})},57746:function(e,t,r){"use strict";r.d(t,{A:function(){return p}});var n,a={uniLoadMore:r(73308).A},i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Scroller",e._g(e._b({staticClass:"scroller",scopedSlots:e._u([{key:"scrollSlot",fn:function(){return[r("v-uni-view",{class:{flexWrap:e.isFlex}},[e._t("header"),e._l(e.cardList,(function(t,n){return r("v-uni-view",{key:n,class:{phoneCardWrap:e.isPhoneCard,cardWrap:!e.isPhoneCard,isFlex:e.isFlex,active:t.checked,disabled:e.disabledClick},on:{click:function(r){arguments[0]=r=e.$handleEvent(r),!e.disabledClick&&e.cardTap(t,n)}}},[r("Card",{class:{disabled:e.disabledClick},attrs:{content:t,index:n,isPhoneCard:e.isPhoneCard,needActive:e.needActive},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,{content:t.content,index:t.index})]}}],null,!0)})],1)}))],2),e.hasLoadMore?r("uni-load-more",{attrs:{status:e.isFinish}}):e._e()]},proxy:!0}],null,!0)},"Scroller",e.$attrs,!1),e.$listeners))},o=[],s=r(49652),l=r(38289),c={name:"ListViewVertical",components:{Scroller:s.A,Card:l.A},props:{cardList:Array,isPhoneCard:{type:Boolean,default:!1},hasGap:{type:Boolean,default:!0},needActive:{type:Boolean,default:!0},isFlex:{type:Boolean,default:!1},hasLoadMore:{type:Boolean,default:!0},isFinish:{type:String,default:"没有更多数据了"},disabledClick:{type:Boolean,default:!1}},data:function(){return{}},methods:{cardTap:function(e,t){this.isFlex&&(e.checked=!e.checked);var r={userId:String(e.userId),userName:e.nickName};this.$emit("cardClick",{item:r,index:t,active:!!e.checked})}},watch:{cardList:{handler:function(e){},deep:!0}}},u=c,d=(r(43536),r(18535)),f=(0,d.A)(u,i,o,!1,null,"04106f8a",null,!1,a,n),p=f.exports},49652:function(e,t,r){"use strict";var n;r.d(t,{A:function(){return f}});var a,i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-scroll-view",{staticClass:"scroll",attrs:{"scroll-y":!0,"scroll-top":e.scrollTop},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.onScrolltolower.apply(void 0,arguments)}}},[e._t("scrollSlot")],2)},o=[],s=(r(2892),r(43859)["A"]),l={name:"Scroller",props:{setScroll:Number},data:function(){return{scrollTop:0}},methods:{onScrolltolower:function(){this.$emit("scrollToBottom")}},watch:{setScroll:{handler:function(e){s.log(e),this.scrollTop=e}}}},c=l,u=(r(20316),r(18535)),d=(0,u.A)(c,i,o,!1,null,"004ca858",null,!1,n,a),f=d.exports},57021:function(e,t,r){"use strict";var n;r.r(t),r.d(t,{default:function(){return A}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"work-container"},[r("ListViewVertical",{staticClass:"listScroller",attrs:{cardList:e.authGridList,needActive:!1},scopedSlots:e._u([{key:"header",fn:function(){return[r("v-uni-view",{staticClass:"headerW"},[r("v-uni-image",{staticClass:"banner",attrs:{src:e.imgUrl+"/work/banner2.svg"}}),r("v-uni-image",{staticClass:"topTitle",attrs:{src:e.imgUrl+"/work/bannerTitle.png"}}),r("v-uni-view",{staticClass:"topUser"},[r("span",[e._v(e._s(e.userInfo.powerPlantName))]),r("span",[e._v(e._s(e.userInfo.nickName))])]),r("v-uni-view",{staticClass:"point"},[r("v-uni-view",{staticClass:"btnWrap"},e._l(e.importList,(function(t,n){return r("v-uni-view",{key:n,staticClass:"bwraps",style:0==t.isPhone?"display:none":"",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.changeGrid(t)}}},[r("v-uni-image",{staticClass:"btnIcons",attrs:{src:t.query?e.imgUrl+"/work/"+e.getQueryIcon(t)+".png":"",mode:"scaleToFill"}}),r("v-uni-view",{staticClass:"title"},[e._v(e._s(t.meta.title))])],1)})),1)],1)],1)]},proxy:!0},{key:"default",fn:function(t){var n=t.content;return[1==n.isPhone?r("v-uni-view",{staticClass:"cardWrap"},[r("v-uni-view",{staticClass:"cardTitle"},[e._v(e._s(e.menuMap[n.name]))]),r("v-uni-view",{staticClass:"btnWrap"},e._l(n.children,(function(t,n){return r("v-uni-view",{key:n,staticClass:"bwrap",style:0==t.isPhone?"display:none":"",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.changeGrid(t)}}},[r("v-uni-image",{staticClass:"btnIcon",attrs:{src:t.query?e.imgUrl+"/work/"+e.getQueryIcon(t)+".png":"",mode:"scaleToFill"}}),r("v-uni-view",{staticClass:"title"},[e._v(e._s(t.meta.title))])],1)})),1)],1):e._e()]}}])})],1)},i=[],o=r(2775),s=r(42727),l=r(50575),c=r(35305),u=(r(2008),r(74423),r(44114),r(34782),r(2892),r(26099),r(21699),r(46920)),d=r(43859)["A"];function f(e){if(e&&e instanceof Array&&e.length>0){var t=u.A.getters&&u.A.getters.permissions,r=e,n="*:*:*",a=t.some((function(e){return n===e||r.includes(e)}));return!!a}return d.error("need roles! Like checkPermi=\"['system:user:add','system:user:edit']\""),!1}r(49652);var p=r(41325),h=function(){return(0,p.A)({url:"/system/menu/getRouters",method:"get"})},v=(r(62008),r(57746));r(79432),r(27495),r(25440);function m(e){var t=JSON.parse(e);return t=t.replace(/'/g,'"'),t=t.replace(/(\w+):/g,'"$1":'),JSON.parse(t)}var g,b=r(43859)["A"],w=(0,o.A)({data:function(){return{current:0,swiperDotIndex:0,gridList:[],importList:[],userInfo:{},menuMap:{User:"人员管理",Run:"运行管理",Plant:"信息发布",Large:"负荷管理",Data:"数据综合展示"}}},components:{ListViewVertical:v.A},computed:{authGridList:function(){var e,t=[],r=(0,c.A)(this.gridList);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(1===Number(n.isPhone))if(n.permissions){if(!f(n.permissions))continue;t.push(n)}else t.push(n)}}catch(a){r.e(a)}finally{r.f()}return t},imgUrl:function(){return r(27358).imgUrl}},methods:{getQueryIcon:function(e){return m(e.query).icon},getQueryUrl:function(e){return m(e.query).url},changeGrid:function(e){var t=m(e.query),r=t.url;b.log(r);var n=["performance","sync","maintain","warn","unusual"],a=n.some((function(e){return r.includes(e)}));r&&a?this.$showError("模块建设中~"):this.$tab.navigateTo(r)},getInfo:function(){var e=this;return(0,l.A)((0,s.A)().mark((function t(){return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:return e.result=t.sent,t.next=5,e.buildData(e.result.data);case 5:return t.next=7,e.$store.dispatch("GetInfo").then((function(t){e.userInfo=t.user}));case 7:case"end":return t.stop()}}),t)})))()},buildData:function(e){var t=e.filter((function(e){return"System"!==e.name&&"Monitor"!==e.name&&"Tool"!==e.name}));this.gridList=t,this.importList=this.gridList[4].children.slice(0,3)}},mounted:function(){this.getInfo(),b.log(this.imgUrl,"imgUrl")},onNavigationBarButtonTap:function(e){this.$showError("模块建设中~")},onLoad:function(){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){}},"onUnload",(function(){})),y=w,k=(r(20690),r(18535)),x=(0,k.A)(y,a,i,!1,null,"73bf0132",null,!1,n,g),A=x.exports},35076:function(e,t,r){"use strict";r.r(t);var n=r(45522),a=r.n(n),i=r(67643),o=r.n(i),s=o()(a());s.push([e.id,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.phoneCardWrap[data-v-04106f8a]{border-bottom:%?1?% solid #d9d9d9\r\n  /* padding: 18rpx 0; */}.phoneCardWrap[data-v-04106f8a]:nth-last-of-type(2){\r\n  /* border-bottom: none; */}.cardWrap[data-v-04106f8a]{padding:0 %?27?%;margin-top:%?20?%}.flexWrap[data-v-04106f8a]{display:grid;\r\n  /* grid-template-columns: repeat(auto-fit, minmax(160rpx, 1fr)); */grid-template-columns:repeat(4,minmax(%?160?%,1fr));padding:0 %?20?% %?20?%;text-align:center;gap:%?4?% %?20?%}.flexWrap .isFlex[data-v-04106f8a]{width:%?160?%;padding:0}.flexWrap .isFlex[data-v-04106f8a]  .uni-card{padding:0!important}.flexWrap .active[data-v-04106f8a]  .uni-card{background-color:#00a096}.flexWrap .active[data-v-04106f8a]  .uni-card .uni-card__content{color:#fff}.flexWrap .disabled[data-v-04106f8a]{pointer-events:none;position:relative}.flexWrap .disabled[data-v-04106f8a]::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:hsla(0,0%,50%,.2);pointer-events:none}.flexWrap .disabled[data-v-04106f8a]  .uni-card{opacity:.9}',""]),t["default"]=s},7088:function(e,t,r){"use strict";r.r(t);var n=r(45522),a=r.n(n),i=r(67643),o=r.n(i),s=o()(a());s.push([e.id,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.scroll[data-v-004ca858]{height:100%;overflow:hidden}',""]),t["default"]=s},40310:function(e,t,r){"use strict";r.r(t);var n=r(45522),a=r.n(n),i=r(67643),o=r.n(i),s=o()(a());s.push([e.id,"@charset \"UTF-8\";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 主题颜色 */\r\n/* 文字大小 */\r\n/* 字重 */\r\n/* 文字颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-73bf0132],\r\n#app[data-v-73bf0132]{font-size:%?28?%;height:100%;overflow:hidden;color:#000}.work-container[data-v-73bf0132]{height:100%;display:flex;flex-direction:column;background:#f3f3f3}.work-container .headerW[data-v-73bf0132]{position:relative;width:100%;background:linear-gradient(180deg,#00a096 0,#00a096 60%,#f3f3f3 0,#f3f3f3)}.work-container .headerW .banner[data-v-73bf0132]{width:100%;height:35vh;object-fit:cover;z-index:9}.work-container .headerW .topTitle[data-v-73bf0132]{position:absolute;top:4.5%;left:%?30?%;z-index:10;width:%?280?%;height:%?100?%}.work-container .headerW .topUser[data-v-73bf0132]{position:absolute;top:35%;left:%?30?%;z-index:10;width:%?280?%;height:%?100?%;display:flex;justify-content:space-between;color:#fff}.work-container .headerW .point[data-v-73bf0132]{position:absolute;display:flex;border-radius:%?10?%;background:#fff;justify-content:center;align-items:center;bottom:0;z-index:10;margin:0 %?26?%;width:93%;height:%?225?%;\r\n  /* background: url('../../static/images/work/import.png'); */object-fit:cover;background-size:100%;border:1px solid #ebeef5}.work-container .headerW .point .btnWrap[data-v-73bf0132]{width:100%;display:grid;grid-template-columns:repeat(auto-fill,minmax(%?148?%,1fr));gap:%?32?% %?45?%;justify-items:center;align-items:center}.work-container .headerW .point .btnWrap .bwraps[data-v-73bf0132]{display:flex;flex-direction:column;justify-content:center;align-items:center}.work-container .headerW .point .btnWrap .bwraps .btnIcons[data-v-73bf0132]{width:%?120?%;height:%?120?%;margin-bottom:%?22?%;border-radius:%?36?%}.work-container .headerW .point .btnWrap .bwraps .title[data-v-73bf0132]{font-size:%?24?%;color:#000}.work-container .listScroller[data-v-73bf0132]{flex:1}.work-container .listScroller .cardWrap .cardTitle[data-v-73bf0132]{font-size:%?32?%;font-weight:700;margin-bottom:%?30?%;color:#000}.work-container .listScroller .cardWrap .btnWrap[data-v-73bf0132]{display:grid;grid-template-columns:repeat(auto-fill,minmax(%?120?%,1fr));gap:%?32?% %?45?%;justify-items:center;align-items:center}.work-container .listScroller .cardWrap .btnWrap .bwrap[data-v-73bf0132]{display:flex;flex-direction:column;justify-content:center;align-items:center}.work-container .listScroller .cardWrap .btnWrap .bwrap .btnIcon[data-v-73bf0132]{width:%?96?%;height:%?96?%;margin-bottom:%?22?%;border-radius:%?36?%}.work-container .listScroller .cardWrap .btnWrap .bwrap .title[data-v-73bf0132]{font-size:%?24?%;color:#000}",""]),t["default"]=s},62008:function(e,t,r){"use strict";r.d(t,{F4:function(){return l},VM:function(){return o},cO:function(){return i},eg:function(){return s}});var n=r(29987),a=r(41325);function i(e,t){var r={oldPassword:e,newPassword:t};return(0,a.A)({url:"/system/user/profile/updatePwd",method:"put",params:r})}function o(){return(0,a.A)({url:"/system/user/profile",method:"get"})}function s(e){return(0,a.A)({url:"/system/user/profile",method:"put",data:e})}function l(e){return(0,n.A)({url:"/system/user/profile/avatar",name:e.name,filePath:e.filePath})}},29987:function(e,t,r){"use strict";r(74423),r(34782),r(2892),r(79432),r(26099),r(21699);var n=r(46920),a=r(84300),i=r(18471),o=r(50771),s=r(27358),l=1e4,c=function(e){var t=!1===(e.headers||{}).isToken;if(e.header=e.header||{},(0,a.gf)()&&!t&&(e.header["Authorization"]="Bearer "+(0,a.gf)()),e.params){var r=e.url+"?"+(0,o.HE)(e.params);r=r.slice(0,-1),e.url=r}return new Promise((function(t,r){uni.uploadFile({timeout:e.timeout||l,url:e.baseUrl||s.baseUrl+e.url,file:e.file||"",fileType:"image",name:e.name||"file",header:e.header,success:function(e){var a=JSON.parse(e.data),s=Number(a.code)||200,l=i.A[s]||a.msg||i.A["default"];200===s||-1===s?t(a):401==s?((0,o.GQ)("登录状态已过期，您可以继续留在该页面，或者重新登录?").then((function(e){e.confirm&&n.A.dispatch("LogOut").then((function(e){uni.reLaunch({url:"/pages/login/login"})}))})),r("无效的会话，或者会话已过期，请重新登录。")):500===s?((0,o.oR)(l),r("500")):200!==s&&((0,o.oR)(l),r(s))},fail:function(e){var t=e.message;"Network Error"==t?t="后端接口连接异常":t.includes("timeout")?t="系统接口请求超时":t.includes("Request failed with status code")&&(t="系统接口"+t.substr(t.length-3)+"异常"),(0,o.oR)(t),r(e)}})}))};t.A=c},35305:function(e,t,r){"use strict";r.d(t,{A:function(){return a}});r(52675),r(89463),r(2259),r(16280),r(76918),r(26099),r(47764),r(62953);var n=r(28116);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=(0,n.A)(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(l)throw o}}}}}}]);